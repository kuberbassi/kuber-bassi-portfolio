<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kuber Bassi - Technology & Creativity - India</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/favicon.png">

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Navbar -->
    <header class="navbar">
        <div class="logo"><a href="/index.html">Kuber Bassi</a></div>

        <button class="menu-toggle" aria-label="Toggle Menu">‚ò∞</button>

        <ul class="nav-links">
            <li><a href="/about.html">About</a></li>
            <li><a href="/projects.html">Projects</a></li>
            <li><a href="/contact.html">Contact</a></li>
        </ul>

        <div class="nav-actions">
            <button class="theme-toggle" aria-label="Toggle theme">
                <img src="images/dark mode.png" alt="Toggle theme">
            </button>
            <a href="mailto:kuberbassi2007@gmail.com" class="contact-btn">Email Me</a>
        </div>
    </header>

    <!-- Projects Section -->
    <section class="projects" id="projects">
        <h2>Projects</h2>
        <p>Here are some of the projects I've worked on...</p>
    </section>

    <section class="projects">
        <h2>My GitHub Projects</h2>
        <div id="github-projects" class="projects-grid">
            <p>Loading projects...</p>
        </div>
    </section>

    <!-- Scripts -->
    <script>
        // GitHub Projects Loader
        const username = "kuberbassi";
        const token = "TOKEN"; // Store securely in production!
        const projectsContainer = document.getElementById("github-projects");

        fetch(`https://api.github.com/users/${username}/repos?sort=updated`, {
            headers: { Authorization: `token ${token}` }
        })
            .then(response => response.json())
            .then(repos => {
                projectsContainer.innerHTML = "";
                repos.forEach(repo => {
                    const project = document.createElement("div");
                    project.classList.add("project-card");
                    project.innerHTML = `
            <h3><a href="${repo.html_url}" target="_blank">${repo.name}</a></h3>
            <p>${repo.description || "No description provided"}</p>
            <p>‚≠ê ${repo.stargazers_count} | üç¥ ${repo.forks_count}</p>
          `;
                    projectsContainer.appendChild(project);
                });
            })
            .catch(error => {
                projectsContainer.innerHTML = "<p>Failed to load projects.</p>";
                console.error(error);
            });

        // Mobile Menu Toggle
        const menuToggle = document.querySelector('.menu-toggle');
        const navLinks = document.querySelector('.nav-links');

        if (menuToggle && navLinks) {
            menuToggle.addEventListener('click', e => {
                e.stopPropagation();
                navLinks.classList.toggle('show');
            });

            document.addEventListener('click', e => {
                if (navLinks.classList.contains('show') && !navLinks.contains(e.target) && e.target !== menuToggle) {
                    navLinks.classList.remove('show');
                }
            });

            navLinks.addEventListener('click', e => {
                if (e.target.tagName === 'A') navLinks.classList.remove('show');
            });
        }

        // Theme Toggle
        const themeToggleBtn = document.querySelector('.theme-toggle');
        if (themeToggleBtn) {
            themeToggleBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
            });
        }

        // Page Scroll Control
        if (window.location.pathname.endsWith("index.html") || window.location.pathname === "/") {
            document.body.style.overflow = "hidden";
        } else {
            document.body.style.overflow = "auto";
        }
    </script>

</body>

</html>